(this["webpackJsonpweb-wallet"]=this["webpackJsonpweb-wallet"]||[]).push([[0],{388:function(e,t){},434:function(e,t){},436:function(e,t){},446:function(e,t){},448:function(e,t){},473:function(e,t){},474:function(e,t){},479:function(e,t){},481:function(e,t){},488:function(e,t){},507:function(e,t){},529:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(100),o=r(553),s=r(6),i=["testInvoke","verifyMessage","getapplicationlog","getrawmempool","getcontractstate","findstates"],u={"neo3:testnet":{url:"https://testnet1.neo.coz.io:443",name:"Testnet"},"neo3:mainnet":{url:"http://seed1.neo.org:10332",name:"Mainnet"},"neo3:private":{url:null,name:"Private Network"}},l=Object(s.a)({},"neo3",{accounts:[],methods:[].concat(["invokeFunction","testInvoke","signMessage","verifyMessage","getapplicationlog","getrawmempool","getcontractstate","findstates"]),events:[]}),d=r(1),p=r.n(d),b=r(2),f=r(8),j=r(342),m=r(23),h=r(551),x=r(53),v=r(46),O=r(541),g=r(543),w=r(554),k=r(542),y=r(544),C=r(15),S=r(158),R=r(339),A=r(5),E=a.a.createContext({}),z=function(e){var t=e.options,r=e.children,a=Object(n.useState)(void 0),c=Object(f.a)(a,2),o=c[0],s=c[1],i=Object(n.useState)([]),u=Object(f.a)(i,2),l=u[0],d=u[1],j=Object(n.useState)(!1),h=Object(f.a)(j,2),x=h[0],v=h[1],O=Object(n.useState)([]),g=Object(f.a)(O,2),w=g[0],k=g[1],y=Object(n.useState)([]),z=Object(f.a)(y,2),F=z[0],P=z[1],T=Object(n.useState)(void 0),B=Object(f.a)(T,2),q=B[0],I=B[1],M=Object(n.useState)(void 0),N=Object(f.a)(M,2),_=N[0],H=N[1],L=Object(n.useCallback)(Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,R.a.init(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[]);Object(n.useEffect)((function(){L()}),[L]);var U=Object(n.useCallback)(Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}throw new Error("Client is not initialized");case 2:k(o.session.values),v(!0);case 4:case"end":return e.stop()}}),e)}))),[o]),D=Object(n.useCallback)((function(e){I((function(){return e}))}),[]),J=Object(n.useCallback)((function(e){H((function(){return e}))}),[]),W=Object(n.useCallback)((function(e){return w.find((function(t){return t.topic===e}))}),[JSON.stringify(w)]),G=Object(n.useCallback)(function(){var e=Object(b.a)(p.a.mark((function e(t){var r,n,a,c,o,s,i,u,l,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=W(t.topic),a=Object.values(null!==(r=null===n||void 0===n?void 0:n.namespaces)&&void 0!==r?r:[])[0],c=null===a||void 0===a?void 0:a.accounts[0]){e.next=5;break}throw new Error("There is no Account");case 5:if(o=null===c||void 0===c?void 0:c.split(":"),s=Object(f.a)(o,3),i=s[0],u=s[1],l=s[2],d="".concat(i,":").concat(u),q){e.next=9;break}throw new Error("There is no onRequestCallback");case 9:return e.next=11,q(l,d,t);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[W]),K=Object(n.useCallback)(function(){var e=Object(b.a)(p.a.mark((function e(t,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}throw new Error("Client is not initialized");case 2:return e.next=4,o.respond({topic:t,response:r});case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[o]),Z=Object(n.useCallback)((function(){if(!o)throw new Error("Client is not initialized");o.events.removeAllListeners(),o.on("session_proposal",(function(e){d((function(t){return[].concat(Object(C.a)(t),[e])}))})),o.on("session_request",function(){var e=Object(b.a)(p.a.mark((function e(t){var r,n,a,c,o,s,i,u,l,d,b,j,m;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!_){e.next=16;break}if(n=void 0,a=void 0,c=W(t.topic),o=Object.values(null!==(r=null===c||void 0===c?void 0:c.namespaces)&&void 0!==r?r:[])[0],(s=null===o||void 0===o?void 0:o.accounts[0])&&(i=s.split(":"),u=Object(f.a)(i,3),l=u[0],d=u[1],b=u[2],n=b,a="".concat(l,":").concat(d)),!_(n,a,t)){e.next=16;break}return e.next=12,G(t);case 12:return j=e.sent,e.next=15,K(t.topic,j);case 15:return e.abrupt("return");case 16:P((function(e){return[].concat(Object(C.a)(e.filter((function(e){return e.id!==t.id}))),[t])})),e.next=24;break;case 19:return e.prev=19,e.t0=e.catch(0),m=Object(S.formatJsonRpcError)(t.id,e.t0.message),e.next=24,K(t.topic,m);case 24:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}()),o.on("session_delete",(function(){if(!o)throw new Error("Client is not initialized");k(o.session.values)}))}),[G,K,o,W]);Object(n.useEffect)((function(){o&&(Z(),U())}),[o,Z,U]);var V=function(){var e=Object(b.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r="string"===typeof t?t:""){e.next=4;break}return e.abrupt("return");case 4:if(o){e.next=6;break}throw new Error("Client is not initialized");case 6:return e.next=8,o.pair({uri:r});case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(0),new Error("client Pair Error");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(b.a)(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}throw new Error("Client is not initialized");case 2:return e.next=4,o.session.get(t.topic);case 4:return r=e.sent,n=r.peer,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(b.a)(p.a.mark((function e(t,r,n){var a,c,s,i,u,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}throw new Error("Client is not initialized");case 2:if("undefined"!==typeof r){e.next=4;break}throw new Error("Accounts is undefined");case 4:return a=r.map((function(e){return"".concat(e.chain,":").concat(e.address)})),c=r.map((function(e){return e.chain})),s=Object.keys(n).reduce((function(e,t){return e[t]=Object(m.a)(Object(m.a)({},n[t]),{},{accounts:a,chains:c}),e}),{}),e.next=9,o.approve({id:t.id,namespaces:s});case 9:return i=e.sent,u=i.acknowledged,e.next=13,u();case 13:l=e.sent,d((function(e){return e.filter((function(e){return e!==t}))})),k([l]);case 16:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),X=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}throw new Error("Client is not initialized");case 2:return e.next=4,o.reject({id:t.id,reason:{code:1,message:"rejected by the user"}});case 4:d((function(e){return e.filter((function(e){return e!==t}))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}throw new Error("Client is not initialized");case 2:return e.next=4,o.disconnect({topic:t,reason:{code:5900,message:"USER_DISCONNECTED"}});case 4:k(o.session.values);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=Object(n.useCallback)(function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(F.filter((function(e){return e.id!==t.id})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),te=function(){var e=Object(b.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}throw new Error("Client is not initialized");case 2:return e.prev=2,e.next=5,G(t);case 5:return r=e.sent,e.next=8,o.respond({topic:t.topic,response:r});case 8:return e.next=10,ee(t);case 10:return e.abrupt("return",r);case 13:return e.prev=13,e.t0=e.catch(2),e.next=17,o.respond({topic:t.topic,response:Object(S.formatJsonRpcError)(t.id,"Failed or Rejected Request")});case 17:throw e.t0;case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}throw new Error("Client is not initialized");case 2:return e.next=4,o.respond({topic:t.topic,response:Object(S.formatJsonRpcError)(t.id,"Failed or Rejected Request")});case 4:return e.next=6,ee(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne={signClient:o,sessionProposals:l,initialized:x,sessions:w,setSessions:k,requests:F,init:L,onURI:V,getPeerOfRequest:Y,approveSession:Q,rejectSession:X,disconnect:$,approveRequest:te,rejectRequest:re,onRequestListener:D,autoAcceptIntercept:J};return Object(A.jsx)(E.Provider,{value:ne,children:r})},F=function(){return Object(n.useContext)(E)},P=r(555);function T(e){return Object(A.jsxs)(O.a,Object(m.a)(Object(m.a)({h:"5rem"},e),{},{children:[Object(A.jsx)(P.a,{w:"5rem",src:e.metadata.icons[0],alt:e.metadata.name}),Object(A.jsxs)(O.a,{direction:"column",ml:"1rem",h:"100%",children:[Object(A.jsx)(k.a,{fontSize:"1.5rem",children:e.metadata.name}),Object(A.jsx)(k.a,{fontSize:"0.875rem",color:"#888888",overflowY:"hidden",children:e.metadata.description}),Object(A.jsx)(g.a,{}),Object(A.jsx)(y.a,{href:e.metadata.url,target:"_blank",fontSize:"0.875rem",color:"#888888",children:e.metadata.url})]})]}))}var B=r(557),q=["openConnectingDapp","openRequest"],I=Object(h.a)(Object(x.a)((function(e,t){return Object(A.jsx)(v.a.a,Object(m.a)({ref:t},e))})));function M(e){var t=F(),r=e.openConnectingDapp,n=e.openRequest,a=Object(j.a)(e,q);return Object(A.jsxs)(O.a,Object(m.a)(Object(m.a)({direction:"column",align:"center"},a),{},{children:[Object(A.jsx)(g.a,{}),Object(A.jsx)(w.a,{h:"2.75rem",bg:"#373d4a",borderRadius:0,mt:"1.5rem",_hover:{bg:"black"},onClick:r,children:"Make a new Connection"}),Object(A.jsx)(g.a,{}),Object(A.jsx)(k.a,{fontSize:"0.875rem",fontWeight:"bold",color:"#888888",mt:"4rem",children:"Sessions"}),t.sessions.map((function(e){return Object(A.jsxs)(O.a,{direction:"column",bg:"#252b36",w:"23rem",boxShadow:"lg",p:"0.5rem",my:"0.5rem",children:[Object(A.jsxs)(O.a,{children:[Object(A.jsx)(T,{metadata:e.peer.metadata,flex:1},e.topic),Object(A.jsx)(y.a,{onClick:function(){return t.disconnect(e.topic)},children:Object(A.jsx)(B.a,{color:"#990000"})})]}),t.requests.map((function(t){return t.topic===e.topic&&Object(A.jsxs)(I,{bg:"black",px:"0.8rem",py:"0.4rem",borderRadius:"0.5rem",borderColor:"#00000033",borderWidth:"0.3rem",bgClip:"padding-box",cursor:"pointer",mx:"0.5rem",mt:"1rem",animate:{scale:[1,1.07,1]},transition:{repeat:1/0,repeatType:"loop"},onClick:function(){return n(t)},children:[Object(A.jsx)(k.a,{as:"span",fontWeight:"bold",children:"Pending Request:"})," ",t.params.request.method]},"r".concat(t.topic))}))]},"s".concat(e.topic))})),Object(A.jsx)(g.a,{})]}))}var N=r(546),_=r(556);function H(e){var t=F(),r=Object(n.useState)(void 0),a=Object(f.a)(r,2),c=a[0],o=a[1],s=Object(n.useState)(!1),i=Object(f.a)(s,2),u=i[0],l=i[1],d=e.requestEvent.params.request;Object(n.useEffect)((function(){t.getPeerOfRequest(e.requestEvent).then(o)}),[e.requestEvent,t]);var j=function(){var r=Object(b.a)(p.a.mark((function r(){return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l(!0),r.next=3,t.approveRequest(e.requestEvent);case 3:l(!1),e.closeRequest();case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),h=function(){var r=Object(b.a)(p.a.mark((function r(){return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l(!0),r.next=3,t.rejectRequest(e.requestEvent);case 3:l(!1),e.closeRequest();case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),x=Array.isArray(d.params)?d.params:d.params.invocations?d.params.invocations:[d.params];return Object(A.jsxs)(O.a,Object(m.a)(Object(m.a)({direction:"column",align:"center"},e),{},{children:[Object(A.jsx)(g.a,{}),Object(A.jsxs)(O.a,{direction:"column",bg:"#252b36",w:"23rem",boxShadow:"dark-lg",p:"0.5rem",children:[c&&Object(A.jsx)(T,{metadata:c.metadata}),Object(A.jsxs)(O.a,{direction:"column",bg:"#00000022",boxShadow:"inset 0 2px 3px 0 #00000033",mt:"0.9rem",p:"0.7rem",overflow:"hidden",children:[Object(A.jsx)(k.a,{fontSize:"0.875rem",color:"#888888",fontWeight:"bold",children:"Chains"}),Object(A.jsxs)(O.a,{align:"center",mt:"0.5rem",children:[Object(A.jsx)(P.a,{w:"1.875rem",src:"https://cryptologos.cc/logos/neo-neo-logo.svg"}),Object(A.jsx)(k.a,{fontSize:"0.875rem",ml:"0.5rem",children:"Neo3"})]}),Object(A.jsx)(k.a,{fontSize:"0.875rem",color:"#888888",fontWeight:"bold",mt:"0.875rem",children:"Method"}),Object(A.jsx)(k.a,{fontSize:"0.875rem",mt:"0.5rem",children:d.method}),Object(A.jsx)(k.a,{fontSize:"0.875rem",color:"#888888",fontWeight:"bold",mt:"0.875rem",children:"Arguments"}),null===x||void 0===x?void 0:x.map((function(e,t){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(O.a,{mt:"0.5rem",children:[Object(A.jsx)(N.a,{h:"1.75rem",pt:"0.08rem",px:"0.6rem",textAlign:"center",bg:"#373d4a",borderRadius:"0.875rem",children:t.toString(10)}),Object(A.jsx)(k.a,{ml:"0.5rem",children:"object"===typeof e?"":"number"===typeof e?e+1:e.toString()})]},t),"object"===typeof e&&Object(A.jsx)(O.a,{direction:"column",borderLeft:"solid 1px #373d4a",ml:"0.875rem",pl:"0.875rem",children:Object.keys(e).map((function(t){return Object(A.jsxs)(O.a,{mt:"0.5rem",children:[Object(A.jsx)(N.a,{h:"1.75rem",pt:"0.08rem",px:"0.6rem",textAlign:"center",bg:"#373d4a",borderRadius:"0.875rem",children:t}),Object(A.jsx)(k.a,{ml:"0.5rem",title:e[t]&&("object"!==typeof e[t]?e[t].toString():JSON.stringify(e[t])),children:e[t]&&("object"!==typeof e[t]?e[t].toString():JSON.stringify(e[t]))})]},t)}))})]})}))]}),u?Object(A.jsx)(_.a,{alignSelf:"center"}):Object(A.jsxs)(O.a,{mt:"0.75rem",position:"sticky",bottom:0,children:[Object(A.jsx)(w.a,{flex:1,onClick:j,bg:"black",borderRadius:0,_hover:{bg:"#111"},children:"Approve"}),Object(A.jsx)(w.a,{flex:1,onClick:h,bg:"black",borderRadius:0,_hover:{bg:"#111"},ml:"0.5rem",children:"Reject"})]})]}),Object(A.jsx)(g.a,{})]}))}var L=a.a.createContext({}),U=function(e){var t=e.children,r=Object(n.useState)(void 0),a=Object(f.a)(r,2),c=a[0],o=a[1],s=Object(n.useState)(!1),i=Object(f.a)(s,2),u=i[0],l=i[1],d=Object(n.useState)("neo3:testnet"),p=Object(f.a)(d,2),b=p[0],j=p[1],m=Object(n.useState)("http://localhost"),h=Object(f.a)(m,2),x=h[0],v=h[1],O=Object(n.useState)(),g=Object(f.a)(O,2),w={accountPassword:c,setAccountPassword:o,accountDecripted:u,setAccountDecripted:l,networkType:b,setNetworkType:j,privateRpcAddress:x,setPrivateRpcAddress:v,account:g[0],setAccount:g[1]};return Object(A.jsx)(L.Provider,{value:w,children:t})},D=function(){return Object(n.useContext)(L)};function J(e){var t=F(),r=D(),n=t.sessionProposals[0],a=function(){var e=Object(b.a)(p.a.mark((function e(){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.approveSession(n,[{address:null!==(a=null===(c=r.account)||void 0===c?void 0:c.address)&&void 0!==a?a:"",chain:r.networkType}],l);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(A.jsxs)(O.a,Object(m.a)(Object(m.a)({direction:"column",align:"center"},e),{},{children:[Object(A.jsx)(g.a,{}),!!t.sessionProposals.length&&Object(A.jsxs)(O.a,{direction:"column",bg:"#252b36",w:"23rem",boxShadow:"dark-lg",p:"0.5rem",children:[Object(A.jsx)(T,{metadata:n.params.proposer.metadata}),Object(A.jsx)(k.a,{as:"pre",bg:"#00000022",boxShadow:"inset 0 2px 3px 0 #00000033",mt:"0.9rem",p:"0.7rem",children:JSON.stringify(n.params.requiredNamespaces,null,2)}),Object(A.jsxs)(O.a,{mt:"0.75rem",children:[Object(A.jsx)(w.a,{flex:1,onClick:a,bg:"black",borderRadius:0,_hover:{bg:"#111"},children:"Approve"}),Object(A.jsx)(w.a,{flex:1,onClick:function(){return t.rejectSession(n)},bg:"black",borderRadius:0,_hover:{bg:"#111"},ml:"0.5rem",children:"Reject"})]})]}),Object(A.jsx)(g.a,{})]}))}var W=r(547),G=r(200),K=function(e){return Object(A.jsxs)(G.a,Object(m.a)(Object(m.a)({viewBox:"0 0 512.016 512"},e),{},{children:[Object(A.jsx)("path",{fill:"currentColor",d:"m496 240.007812h-202.667969c-8.832031 0-16-7.167968-16-16 0-8.832031 7.167969-16 16-16h202.667969c8.832031 0 16 7.167969 16 16 0 8.832032-7.167969 16-16 16zm0 0"}),Object(A.jsx)("path",{fill:"currentColor",d:"m416 320.007812c-4.097656 0-8.191406-1.558593-11.308594-4.691406-6.25-6.253906-6.25-16.386718 0-22.636718l68.695313-68.691407-68.695313-68.695312c-6.25-6.25-6.25-16.382813 0-22.632813 6.253906-6.253906 16.386719-6.253906 22.636719 0l80 80c6.25 6.25 6.25 16.382813 0 22.632813l-80 80c-3.136719 3.15625-7.230469 4.714843-11.328125 4.714843zm0 0"}),Object(A.jsx)("path",{fill:"currentColor",d:"m170.667969 512.007812c-4.566407 0-8.898438-.640624-13.226563-1.984374l-128.386718-42.773438c-17.46875-6.101562-29.054688-22.378906-29.054688-40.574219v-384c0-23.53125 19.136719-42.6679685 42.667969-42.6679685 4.5625 0 8.894531.6406255 13.226562 1.9843755l128.382813 42.773437c17.472656 6.101563 29.054687 22.378906 29.054687 40.574219v384c0 23.53125-19.132812 42.667968-42.664062 42.667968zm-128-480c-5.867188 0-10.667969 4.800782-10.667969 10.667969v384c0 4.542969 3.050781 8.765625 7.402344 10.28125l127.785156 42.582031c.917969.296876 2.113281.46875 3.480469.46875 5.867187 0 10.664062-4.800781 10.664062-10.667968v-384c0-4.542969-3.050781-8.765625-7.402343-10.28125l-127.785157-42.582032c-.917969-.296874-2.113281-.46875-3.476562-.46875zm0 0"}),Object(A.jsx)("path",{fill:"currentColor",d:"m325.332031 170.675781c-8.832031 0-16-7.167969-16-16v-96c0-14.699219-11.964843-26.667969-26.664062-26.667969h-240c-8.832031 0-16-7.167968-16-16 0-8.832031 7.167969-15.9999995 16-15.9999995h240c32.363281 0 58.664062 26.3046875 58.664062 58.6679685v96c0 8.832031-7.167969 16-16 16zm0 0"}),Object(A.jsx)("path",{fill:"currentColor",d:"m282.667969 448.007812h-85.335938c-8.832031 0-16-7.167968-16-16 0-8.832031 7.167969-16 16-16h85.335938c14.699219 0 26.664062-11.96875 26.664062-26.667968v-96c0-8.832032 7.167969-16 16-16s16 7.167968 16 16v96c0 32.363281-26.300781 58.667968-58.664062 58.667968zm0 0"})]}))},Z=r(7),V=r(13),Y=function(){function e(){Object(Z.a)(this,e)}return Object(V.a)(e,null,[{key:"fileOrBlobToArrBuffer",value:function(e){return new Promise((function(t){var r=new FileReader;r.onload=function(){t(r.result)},r.readAsArrayBuffer(e)}))}},{key:"fileToArrBuffer",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fileOrBlobToArrBuffer(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"blobToArrBuffer",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fileOrBlobToArrBuffer(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fileToUrl",value:function(e){return new Promise((function(t){var r=new FileReader;r.onload=function(){t(r.result)},r.readAsDataURL(e)}))}},{key:"urlToImg",value:function(e){return new Promise((function(t){var r=new Image;r.onload=function(){t(r)},r.src=e}))}},{key:"canvasToBlob",value:function(e){return new Promise((function(t){e.toBlob((function(e){t(e)}))}))}},{key:"urlToBlob",value:function(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var r=e.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(t.length),a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return new Blob([n],{type:r})}},{key:"urlToArrayBuffer",value:function(e){var t=this.urlToBlob(e);return this.fileOrBlobToArrBuffer(t)}},{key:"fileToImg",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fileToUrl(t);case 2:return r=e.sent,e.next=5,this.urlToImg(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fileOrBlobToExtension",value:function(e){return e.type.includes("jpeg")?"jpg":e.type.split("/")[1]}},{key:"arrayBufferToBlob",value:function(e){return new Blob([e],{type:"image/jpeg"})}},{key:"blobToUrl",value:function(e){return(window.URL||window.webkitURL).createObjectURL(e)}},{key:"arrayBufferToUrl",value:function(e){var t=this.arrayBufferToBlob(e);return this.blobToUrl(t)}},{key:"promptForMultipleFiles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(r){var n=document.createElement("input");n.type="file",e&&(n.accept=e),t&&n.setAttribute("multiple","multiple"),document.body.appendChild(n),n.onchange=function(e){document.body.removeChild(n),r(e.target.files)},n.click()}))}},{key:"promptForSingleFile",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t,r,n=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:null,e.next=3,this.promptForMultipleFiles(t,!1);case 3:if((r=e.sent)&&r.length){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",r[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"downloadJsonFile",value:function(e,t){var r="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t)),n=document.createElement("a");n.setAttribute("href",r),n.setAttribute("download",e+".json"),document.body.appendChild(n),n.click(),n.remove()}}]),e}(),Q=r(19),X=r.n(Q),$=r(332),ee=r(201),te=function(){function e(t,r){var n=this;Object(Z.a)(this,e),this.rpcAddress=void 0,this.networkMagic=void 0,this.rpcCall=function(){var e=Object(b.a)(p.a.mark((function e(t,r){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("invokeFunction"!==(a=r.params.request).method){e.next=9;break}if(t){e.next=4;break}throw new Error("No account");case 4:return e.next=6,n.invokeFunction(t,a.params);case 6:c=e.sent,e.next=38;break;case 9:if("testInvoke"!==a.method){e.next=17;break}if(t){e.next=12;break}throw new Error("No account");case 12:return e.next=14,n.testInvoke(t,a.params);case 14:c=e.sent,e.next=38;break;case 17:if("signMessage"!==a.method){e.next=25;break}if(t){e.next=20;break}throw new Error("No account");case 20:return e.next=22,n.signMessage(t,a.params);case 22:c=e.sent,e.next=38;break;case 25:if("verifyMessage"!==a.method){e.next=31;break}return e.next=28,n.verifyMessage(a.params);case 28:c=e.sent,e.next=38;break;case 31:if("getapplicationlog"!==a.method){e.next=37;break}return e.next=34,new Q.rpc.RPCClient(n.rpcAddress).getApplicationLog(a.params[0]);case 34:c=e.sent,e.next=38;break;case 37:throw new Error("Invalid Request method");case 38:return e.abrupt("return",{id:r.id,jsonrpc:"2.0",result:c});case 39:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),this.testInvoke=function(){var t=Object(b.a)(p.a.mark((function t(r,a){var c,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=X.a.create.scriptBuilder(),a.invocations.forEach((function(t){c.emitContractCall({scriptHash:t.scriptHash,operation:t.operation,args:e.convertParams(t.args)}),t.abortOnFail&&c.emit(57)})),o=c.build(),t.next=5,new Q.rpc.RPCClient(n.rpcAddress).invokeScript(X.a.u.HexString.fromHex(o),e.buildMultipleSigner(r,a.signers));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),this.invokeFunction=function(){var t=Object(b.a)(p.a.mark((function t(r,a){var c,o,s,i,u,l,d,b;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=X.a.create.scriptBuilder(),a.invocations.forEach((function(t){c.emitContractCall({scriptHash:t.scriptHash,operation:t.operation,args:e.convertParams(t.args)}),t.abortOnFail&&c.emit(57)})),o=c.build(),s=new Q.rpc.RPCClient(n.rpcAddress),t.next=6,s.getBlockCount();case 6:if(i=t.sent,u=new Q.tx.Transaction({script:X.a.u.HexString.fromHex(o),validUntilBlock:i+100,signers:e.buildMultipleSigner(r,a.signers)}),l={rpcAddress:n.rpcAddress,networkMagic:n.networkMagic,account:r},!a.systemFeeOverride){t.next=13;break}t.t0=Q.u.BigInteger.fromNumber(a.systemFeeOverride),t.next=21;break;case 13:if(!a.extraSystemFee){t.next=19;break}return t.next=16,X.a.experimental.txHelpers.getSystemFee(u.script,l,u.signers);case 16:t.t1=t.sent.add(a.extraSystemFee),t.next=20;break;case 19:t.t1=void 0;case 20:t.t0=t.t1;case 21:if(d=t.t0,!a.networkFeeOverride){t.next=26;break}t.t2=Q.u.BigInteger.fromNumber(a.networkFeeOverride),t.next=34;break;case 26:if(!a.extraNetworkFee){t.next=32;break}return t.next=29,X.a.experimental.txHelpers.calculateNetworkFee(u,r,l);case 29:t.t3=t.sent.add(a.extraNetworkFee),t.next=33;break;case 32:t.t3=void 0;case 33:t.t2=t.t3;case 34:return b=t.t2,t.next=37,X.a.experimental.txHelpers.addFees(u,Object(m.a)(Object(m.a)({},l),{},{systemFeeOverride:d,networkFeeOverride:b}));case 37:return u.sign(r,n.networkMagic),t.next=40,s.sendRawTransaction(u);case 40:return t.abrupt("return",t.sent);case 41:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),this.signMessage=function(e,t){if("string"===typeof t)return n.signMessageLegacy(e,t);if(1===t.version)return n.signMessageLegacy(e,t.message);if(2===t.version)return n.signMessageNew(e,t.message);throw new Error("Invalid signMessage version")},this.signMessageLegacy=function(e,t){var r=Object(ee.randomBytes)(16).toString("hex"),n=Q.u.str2hexstring(r+t),a=Q.u.num2VarInt(n.length/2),c="010001f0".concat(a).concat(n,"0000");return{publicKey:e.publicKey,data:Q.wallet.sign(c,e.privateKey),salt:r,messageHex:c}},this.signMessageNew=function(e,t){var r=Object(ee.randomBytes)(16).toString("hex"),n=Q.u.str2hexstring(t);return{publicKey:e.publicKey,data:Q.wallet.sign(n,e.privateKey,r),salt:r,messageHex:n}},this.verifyMessage=function(e){return Q.wallet.verify(e.messageHex,e.data,e.publicKey)},this.getGasBalance=function(){var e=Object(b.a)(p.a.mark((function e(t){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Q.rpc.RPCClient(n.rpcAddress),e.next=3,r.invokeFunction("0xd2a4cff31913016155e38e474a2c06d08be276cf","balanceOf",[Q.sc.ContractParam.hash160(t.address)]);case 3:return a=e.sent,e.abrupt("return",parseInt(a.stack[0].value)/Math.pow(10,8));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.rpcAddress=t,this.networkMagic=r}return Object(V.a)(e,null,[{key:"convertParams",value:function(t){return t.map((function(t){var r;return void 0===t.value?t:"Address"===t.type?Q.sc.ContractParam.hash160(t.value):"ScriptHash"===t.type?Q.sc.ContractParam.hash160(X.a.u.HexString.fromHex(t.value)):"Array"===t.type?(r=Q.sc.ContractParam).array.apply(r,Object(C.a)(e.convertParams(t.value))):t}))}},{key:"buildSigner",value:function(e,t){var r,n,a=new Q.tx.Signer({account:null!==(r=null===t||void 0===t?void 0:t.account)&&void 0!==r?r:e.scriptHash});return a.scopes=null!==(n=null===t||void 0===t?void 0:t.scopes)&&void 0!==n?n:$.a.CalledByEntry,(null===t||void 0===t?void 0:t.allowedContracts)&&(a.allowedContracts=t.allowedContracts.map((function(e){return X.a.u.HexString.fromHex(e)}))),(null===t||void 0===t?void 0:t.allowedGroups)&&(a.allowedGroups=t.allowedGroups.map((function(e){return X.a.u.HexString.fromHex(e)}))),a}},{key:"buildMultipleSigner",value:function(t,r){return(null===r||void 0===r?void 0:r.length)?r.map((function(r){return e.buildSigner(t,r)})):[e.buildSigner(t)]}},{key:"convertError",value:function(e){return{error:Object(m.a)({message:e.message},e)}}}]),e}();te.init=function(){var e=Object(b.a)(p.a.mark((function e(t,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=te,e.t1=t,e.t2=r,e.t2){e.next=7;break}return e.next=6,te.getMagicOfRpcAddress(t);case 6:e.t2=e.sent;case 7:return e.t3=e.t2,e.abrupt("return",new e.t0(e.t1,e.t3));case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),te.getMagicOfRpcAddress=function(){var e=Object(b.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Q.rpc.RPCClient(t).execute(X.a.create.query({method:"getversion",params:[],id:1,jsonrpc:"2.0"}));case 2:return r=e.sent,e.abrupt("return",r.protocol.network);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var re="Neo3",ne="https://cryptologos.cc/logos/neo-neo-logo.svg";function ae(){var e=D(),t=Object(n.useState)(),r=Object(f.a)(t,2),a=r[0],c=r[1],o=function(){var t=Object(b.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setAccountPassword(void 0),e.setAccountDecripted(!1);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=Object(b.a)(p.a.mark((function t(){var r,n,a,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=null===(r=e.account)||void 0===r?void 0:r.export(),Y.downloadJsonFile(null!==(n=null===(a=e.account)||void 0===a?void 0:a.address)&&void 0!==n?n:"",c);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){return e.account&&e.accountDecripted},l=Object(n.useCallback)(Object(b.a)(p.a.mark((function t(){var r,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.account){t.next=2;break}return t.abrupt("return",void 0);case 2:return t.next=4,te.init(u[e.networkType].url||e.privateRpcAddress);case 4:return r=t.sent,t.next=7,r.getGasBalance(e.account);case 7:n=t.sent,c(n);case 9:case"end":return t.stop()}}),t)}))),[e.account,e.networkType,e.privateRpcAddress]);return Object(n.useEffect)((function(){l()}),[l]),Object(A.jsxs)(O.a,{align:"center",bgColor:"#00000033",borderBottom:"1px",borderColor:"#ffffff33",h:["3.5rem","6rem"],px:["1rem","3rem"],children:[Object(A.jsxs)(O.a,{direction:"column",flex:1,align:i()?"start":"center",children:[Object(A.jsx)(k.a,{fontSize:"2.25rem",fontWeight:"bold",children:"Web Wallet"}),Object(A.jsx)(k.a,{fontSize:"0.875rem",color:"#888888",textTransform:"uppercase",mt:"-0.5rem",children:"For Tests"})]}),i()&&Object(A.jsx)(O.a,{direction:"column",align:"right",children:e.account&&Object(A.jsxs)(O.a,{align:"center",children:[Object(A.jsx)(P.a,{src:ne,alt:re,title:re,w:"1.6rem",mr:"0.5rem"}),Object(A.jsxs)(O.a,{direction:"column",children:[Object(A.jsx)(k.a,{fontSize:"0.875rem",children:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return"".concat(e.slice(0,t),"...").concat(e.slice(-t))}(e.account.address,8)}),Object(A.jsxs)(k.a,{fontSize:"0.6rem",children:["GAS: ",a]}),Object(A.jsx)(y.a,{fontSize:"0.875rem",mt:"-0.3rem",color:"#888888",onClick:s,children:"Download JSON File"})]}),Object(A.jsx)(y.a,{ml:"0.6rem",onClick:o,children:Object(A.jsx)(K,{boxSize:"1.4rem",color:"#888888"})})]},e.account.address)})]})}var ce=r(552),oe=r(548),se=r(550);function ie(e){var t=D(),r=Object(ce.a)(),a=Object(n.useState)(!1),c=Object(f.a)(a,2),o=c[0],s=c[1],i=Object(n.useState)(!1),l=Object(f.a)(i,2),d=l[0],j=l[1],h=Object(n.useState)(!1),x=Object(f.a)(h,2),v=x[0],y=x[1],C=function(e){t.setAccount(e)},S=Object(n.useCallback)(Object(b.a)(p.a.mark((function e(){var r,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.account||(r=localStorage.getItem("account"),(n=r?JSON.parse(r):null)&&(a=new Q.wallet.Account(n),C(a)));case 1:case"end":return e.stop()}}),e)}))),[t]);Object(n.useEffect)((function(){S()}),[S]);var R=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y(!0),e.next=4,E();case 4:y(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.account||!t.accountPassword){e.next=22;break}if(d){e.next=11;break}return e.prev=2,e.next=5,t.account.decrypt(t.accountPassword);case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(2),r({title:e.t0.message,status:"error",duration:3e3,isClosable:!0}),e.abrupt("return");case 11:return t.setAccountDecripted(!0),e.prev=12,e.next=15,t.account.encrypt(t.accountPassword);case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(12),console.log("error encrypting account");case 20:return e.next=22,localStorage.setItem("account",JSON.stringify(t.account.export()));case 22:case"end":return e.stop()}}),e,null,[[2,7],[12,17]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(b.a)(p.a.mark((function e(){var t,r,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.promptForSingleFile("json");case 2:return t=e.sent,e.next=5,null===t||void 0===t?void 0:t.text();case 5:(r=e.sent)&&(n=JSON.parse(r),a=new Q.wallet.Account(n),C(a),j(!1));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new Q.wallet.Account,C(t),j(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(A.jsxs)(O.a,Object(m.a)(Object(m.a)({direction:"column",align:"center"},e),{},{children:[Object(A.jsx)(g.a,{}),v?Object(A.jsx)(_.a,{alignSelf:"center"}):o?t.account?Object(A.jsxs)(O.a,{children:[Object(A.jsxs)(O.a,{as:"form",onSubmit:R,direction:"column",align:"center",children:[Object(A.jsx)(k.a,{fontSize:"0.875rem",color:"#888888",fontWeight:"bold",children:d?"Create Account":"Login with this Account"}),Object(A.jsxs)(O.a,{align:"center",mt:"0.8rem",children:[Object(A.jsx)(P.a,{w:"1.875rem",src:"https://cryptologos.cc/logos/neo-neo-logo.svg"}),Object(A.jsx)(k.a,{fontSize:"0.875rem",ml:"0.5rem",children:t.account.address})]}),Object(A.jsx)(se.a,{type:"password",onChange:function(e){return t.setAccountPassword(e.target.value)},borderColor:"#373d4a",borderRadius:0,bg:"#1a202b",_placeholder:{color:"#373d4a"},mt:"1rem",placeholder:d?"Type a new password":"Type your password"}),Object(A.jsx)(w.a,{type:"submit",w:"6.5rem",h:"2.75rem",bg:"#373d4a",borderRadius:0,mt:"1rem",_hover:{bg:"black"},children:d?"Create":"Login"})]}),Object(A.jsxs)(O.a,{direction:"column",align:"center",ml:"2rem",children:[Object(A.jsx)(N.a,{flex:1,w:"1px",bg:"#888888"}),Object(A.jsx)(k.a,{fontSize:"0.875rem",color:"#888888",my:"0.5rem",children:"Or"}),Object(A.jsx)(N.a,{flex:1,w:"1px",bg:"#888888"})]}),Object(A.jsxs)(O.a,{direction:"column",w:"12rem",alignSelf:"center",ml:"2rem",children:[Object(A.jsx)(w.a,{onClick:z,w:"100%",h:"2.75rem",bg:"#373d4a",borderRadius:0,_hover:{bg:"black"},children:d?"Import an Account":"Import another Account"}),!d&&Object(A.jsx)(w.a,{onClick:F,w:"100%",h:"2.75rem",bg:"#373d4a",borderRadius:0,_hover:{bg:"black"},mt:"0.5rem",children:"Generate a new Account"})]})]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(k.a,{fontSize:"0.875rem",color:"#888888",children:"Do you have an Account JSON File?"}),Object(A.jsxs)(O.a,{h:"2.75rem",mt:"1.5rem",children:[Object(A.jsx)(w.a,{onClick:z,h:"100%",bg:"#373d4a",borderRadius:0,_hover:{bg:"black"},children:"Yes! Import File"}),Object(A.jsx)(w.a,{onClick:F,h:"100%",bg:"#373d4a",borderRadius:0,_hover:{bg:"black"},ml:"0.5rem",children:"No, Generate a new one"})]})]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(k.a,{fontSize:"0.875rem",color:"#888888",children:"Choose your network"}),Object(A.jsx)(k.a,{fontSize:"0.75rem",mt:"1.5rem",w:"20rem",children:"Network Type"}),Object(A.jsx)(oe.a,{onChange:function(e){return t.setNetworkType(e.target.value)},value:t.networkType,borderColor:"#373d4a",borderRadius:0,bg:"#1a202b",mt:"0.5rem",w:"20rem",color:"#999999",children:Object.keys(u).map((function(e){return Object(A.jsx)("option",{value:e,children:u[e].name},e)}))}),"neo3:private"===t.networkType&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(k.a,{fontSize:"0.75rem",mt:"1.5rem",w:"20rem",children:"RPC Address"}),Object(A.jsx)(se.a,{onChange:function(e){return t.setPrivateRpcAddress(e.target.value)},value:t.privateRpcAddress,borderColor:"#373d4a",borderRadius:0,bg:"#1a202b",_placeholder:{color:"#373d4a"},mt:"0.5rem",w:"20rem"})]}),Object(A.jsx)(w.a,{onClick:function(){return s(!0)},h:"2.75rem",mt:"1.5rem",bg:"#373d4a",borderRadius:0,_hover:{bg:"black"},children:"Continue"})]}),Object(A.jsx)(g.a,{})]}))}var ue,le,de,pe,be,fe=r(10),je=r(9),me=r(108),he=r(109),xe=r(335),ve=r.n(xe),Oe=he.a.div(ue||(ue=Object(me.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 5;\n  margin: 0 auto !important;\n  background: rgb(0, 0, 0);\n"]))),ge=he.a.div(le||(le=Object(me.a)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  max-width: 600px;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),we=he.a.div(de||(de=Object(me.a)(["\n  transition: all 0.2s ease-in-out;\n  width: 25px;\n  height: 25px;\n  position: absolute;\n  z-index: 10;\n  top: 15px;\n  right: 15px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transform: rotate(45deg);\n  &:hover {\n    opacity: 0.5;\n  }\n"]))),ke=he.a.div(pe||(pe=Object(me.a)(["\n  position: absolute;\n  width: 90%;\n  border: 1px solid rgb(255, 255, 255);\n"]))),ye=Object(he.a)(ke)(be||(be=Object(me.a)(["\n  transform: rotate(90deg);\n"]))),Ce=function(e){Object(fe.a)(r,e);var t=Object(je.a)(r);function r(){var e;Object(Z.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={delay:300},e.stopRecording=Object(b.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({delay:!1});case 2:case"end":return t.stop()}}),t)}))),e.handleScan=function(t){if(t){var r=e.props.onValidate(t),n=r.result,a=r.error;n?(e.stopRecording(),e.props.onScan(n)):e.handleError(a)}},e.handleError=function(t){t&&e.props.onError(t)},e.onClose=Object(b.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.stopRecording();case 3:e.props.onClose(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e.handleError(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),e}return Object(V.a)(r,[{key:"componentWillUnmount",value:function(){this.stopRecording()}},{key:"render",value:function(){return Object(A.jsxs)(Oe,{children:[Object(A.jsxs)(we,{onClick:this.onClose,children:[Object(A.jsx)(ke,{}),Object(A.jsx)(ye,{})]}),Object(A.jsx)(ge,{children:Object(A.jsx)(ve.a,{delay:this.state.delay,onError:this.handleError,onScan:this.handleScan,style:{width:"100%"}})})]})}}]),r}(n.Component);function Se(e){var t=F(),r=Object(ce.a)(),a=Object(n.useState)(!1),c=Object(f.a)(a,2),o=c[0],s=c[1],i=Object(n.useState)(!1),u=Object(f.a)(i,2),l=u[0],d=u[1],j=function(){var e=Object(b.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,t.onURI(n.target.value);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),d(!1),r({title:"Invalid input",status:"error",duration:3e3,isClosable:!0});case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(b.a)(p.a.mark((function e(r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.onURI(r);case 2:s(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){d(!1)}),[t.sessionProposals.length]);var x=Object(n.useCallback)((function(e){e.reason.message&&e.reason.message.includes("No matching pairing")&&(d(!1),r({title:"Expired code",status:"error",duration:3e3,isClosable:!0}),e.preventDefault())}),[r]);return Object(n.useEffect)((function(){return window.addEventListener("unhandledrejection",x),function(){window.removeEventListener("unhandledrejection",x)}}),[x]),Object(A.jsxs)(O.a,Object(m.a)(Object(m.a)({direction:"column",align:"center"},e),{},{children:[Object(A.jsx)(g.a,{}),l?Object(A.jsx)(_.a,{mt:"2rem"}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(k.a,{fontSize:"0.875rem",fontWeight:"bold",color:"#888888",children:"Connect with an App"}),Object(A.jsx)(w.a,{h:"2.75rem",bg:"#373d4a",borderRadius:0,mt:"1.5rem",_hover:{bg:"black"},onClick:function(){d(!0),s(!0)},children:"Scan the QRCode"}),Object(A.jsxs)(O.a,{align:"center",mt:"2rem",maxW:"10rem",w:"100%",children:[Object(A.jsx)(N.a,{flex:1,h:"1px",bg:"#888888"}),Object(A.jsx)(k.a,{fontSize:"0.875rem",color:"#888888",mx:"0.5rem",children:"Or"}),Object(A.jsx)(N.a,{flex:1,h:"1px",bg:"#888888"})]}),Object(A.jsx)(se.a,{onChange:j,borderColor:"#373d4a",borderRadius:0,maxW:"20rem",bg:"#1a202b",_placeholder:{color:"#373d4a"},mt:"2rem",placeholder:"Paste the Code "})]}),Object(A.jsx)(g.a,{}),o&&Object(A.jsx)(Ce,{onValidate:function(e){var t={error:null,result:null};try{t.result=e}catch(r){t.error=r}return t},onScan:h,onError:function(e){d(!1),r({title:e.message,status:"error",duration:3e3,isClosable:!0})},onClose:function(){s(!1),d(!1)}})]}))}function Re(){var e=F(),t=D(),r=Object(n.useState)(!1),a=Object(f.a)(r,2),c=a[0],o=a[1],s=Object(n.useState)(void 0),l=Object(f.a)(s,2),d=l[0],j=l[1];return Object(n.useEffect)((function(){o(!e.sessions.length)}),[e.sessions]),Object(n.useEffect)((function(){e.autoAcceptIntercept((function(e,t,r){return i.includes(r.params.request.method)})),e.onRequestListener(function(){var e=Object(b.a)(p.a.mark((function e(r,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.init(u[n].url||t.privateRpcAddress);case 2:return e.next=4,e.sent.rpcCall(t.account,a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}())}),[t.account,t.privateRpcAddress]),Object(A.jsxs)(O.a,{direction:"column",w:"100vw",minH:"100vh",bgImage:"url(bg.png)",color:"white",children:[Object(A.jsx)(ae,{}),t.account&&t.accountDecripted?e.initialized?e.sessionProposals.length?Object(A.jsx)(J,{flex:1}):d?Object(A.jsx)(H,{requestEvent:d,closeRequest:function(){return j(void 0)},flex:1}):c?Object(A.jsxs)(O.a,{flex:1,children:[Object(A.jsx)(Se,{flex:1}),!!e.sessions.length&&Object(A.jsx)(W.a,{onClick:function(){return o(!1)}})]}):Object(A.jsx)(M,{openRequest:function(e){return j(e)},openConnectingDapp:function(){return o(!0)}}):Object(A.jsxs)(O.a,{flex:1,align:"center",children:[Object(A.jsx)(g.a,{}),Object(A.jsx)(_.a,{}),Object(A.jsx)(g.a,{})]}):Object(A.jsx)(ie,{flex:1})]})}var Ae={appMetadata:{name:"CoZ Wallet Prototype",description:"WalletConnect integration Prototype",url:"https://coz.io/",icons:["https://raw.githubusercontent.com/CityOfZion/visual-identity/develop/_CoZ%20Branding/_Logo/_Logo%20icon/_PNG%20200x178px/CoZ_Icon_DARKBLUE_200x178px.png"]},logger:"error",relayServer:"wss://relay.walletconnect.com",projectId:"56de852a69580b46d61b53f7b3922ce1"};c.render(Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(o.a,{children:Object(A.jsx)(z,{options:Ae,children:Object(A.jsx)(U,{children:Object(A.jsx)(Re,{})})})})}),document.getElementById("root"))}},[[529,1,2]]]);
//# sourceMappingURL=main.ecc28222.chunk.js.map
